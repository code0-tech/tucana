syntax = "proto3";

package shared;

option ruby_package = "Tucana::Shared";

import "shared.translation.proto";

message AdapterConfiguration {
  oneof data {
    string endpoint = 1; // e.g. URL, ...
  }
}

enum RuntimeStatus {
  UNKNOWN = 0;
  NOT_RESPONDING = 1;
  NOT_READY = 2;
  RUNNING = 3;
  STOPPED = 4;
}

message RuntimeFeature {
  repeated shared.Translation name = 1;
  repeated shared.Translation description = 2;
}

message AdapterRuntimeStatus {
  RuntimeStatus status = 1;
  int64 timestamp = 2; // epoch timestamp in milliseconds

  string identifier = 3; // unique identifier of the adapter

  repeated RuntimeFeature features = 4;
  repeated AdapterConfiguration configurations = 5;
}

message ExecutionRuntimeStatus {
  RuntimeStatus status = 1;
  int64 timestamp = 2; // epoch timestamp in milliseconds

  string identifier = 3; // unique identifier of the adapter

  repeated RuntimeFeature features = 4;
}
